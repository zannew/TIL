# 일급 콜렉션(First Class Collecion)에 대해 알아보기

## 목차

[일급 콜렉션이란?](##일급-콜렉션이란?)
[일급 콜렉션 사용의 이점](##일급-콜렉션-사용의-이점)
[결론](##결론)

## 👀️ 일급 콜렉션이란?

- 일급 콜렉션 사용 방식은 다음과 같다.

  - 콜렉션을 포함한 클래스에서 콜렉션만 멤버 변수로 가지고 있으며 다른 멤버 변수는 사용하지 않는다.
  - 다시 말해 `콜렉션을 wrapping 하면서 다른 멤버 변수가 없는 상태`를 일급 콜렉션이라고 부른다.
- 일급 콜렉션은 다음과 같은 이점이 있다.

  1. 비즈니스에 종속적인 자료구조
  2. Collection 의 불변성을 보장
  3. 상태와 행위를 한 곳에서 관리
  4. 이름이 있는 Collection

## 👀️ 일급 콜렉션 사용의 이점

### 비즈니스에 종속적인 자료구조

- 콜렉션은 매우 빈번하게 사용되므로 필요한 비즈니스 로직에 따라 구분지을 필요가 있다.
- 없는 자료구조는 직접 만들어 사용할 수 있도록 한다.
- 필수 조건(validation)으로만 생성할 수 있는 자료구조를 만들어 사용한다.
  - (이런 클래스를 일급 콜렉션이라고 부른다.)

### 불변성

- 일급 콜렉션은 Collection의 불변을 보장한다.
- Java의 `final`은 **재할당을 금지하는 것**이지 불변을 만들어주진 않는다.(값 변경이 가능하다.)
- 객체의 불변 여부 보장되는 것만해도 코드를 이해하고 수정하는데 드는 비용이 크게 줄어든다.
- 컬렉션의 값을 변경할 수 있는 메서드가 없는 콜렉션이 불변 컬렉션이다.
  - 일급 컬렉션 내의 collection에 접근할 수 있는 방법이 새로 객체를 생성하거나 값을 가져오는 메서드(getter) 사용 뿐이다.

### 상태와 행위를 한 곳에서 관리

- 일급 컬렉션은 값과 로직이 함께 존재한다.
- List 에 데이터를 담고 service나 util 클래스에서 로직을 수행하는 상황을 떠올려보자.
  - List와 로직은 관계가 있는데 코드로 표현이 어렵다.
  - 동일 로직의 중복 메서드를 생성할 수 있다.
  - 관리 포인트가 증가할 확률이 높다.
- 계산 로직이 필요한 경우 이 계산 메서드의 로직은 일급 컬렉션에서 처리할 수 있도록 한다.
- Enum을 사용하여 타입별로 한 곳에서 관리할 수 있게 리팩토링도 가능하다.

### 이름이 있는 Collection

- 변수명으로만 검색할 때의 어려움을 해결할 수 있다.

  - 미묘하게 개발자마다 변수명이 다를 수 있다. -> 이 역시 검색이 어렵다.
  - 변수명 레벨에서 단어 뜻 그 이상을 내포하기는 어렵다.
- 일급 컬렉션 사용 시

  - 일급 컬렉션 기반으로 용어를 정리할 수 있다.
  - 일급 컬렉션 기반으로 검색이 가능해진다.
  - 용어가 통일되어 소통에 드는 비용을 줄일 수 있다.

## 👀️ 결론

일급 컬렉션에 대한 사용법과 필요성에 대해 이해할 수 있었다. Enum과 마찬가지로 객체지향적인 개발을 위해서 꼭 알아야할 내용이었다. (조만간 Enum에 대해서도 다시 알아봐야겠다.)

<br/>

```
이동욱 개발자님의 블로그를 참고하였습니다. ([https://jojoldu.tistory.com/412](https://jojoldu.tistory.com/412))
```
