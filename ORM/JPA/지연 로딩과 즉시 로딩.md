# 지연 로딩과 즉시 로딩

지연 로딩과 즉시 로딩을 이해하기 위해 프록시 개념부터 알아보자.

### 프록시란?

- 실제 엔티티 객체 대신 사용되는 객체이다.
- 실제 엔티티 클래스와 상속 관계, 위임 관곌르 이루고 있다.
- 실제 엔티티 클래스를 상속 받으므로 실제 엔티티와 모습이 같다.

<br><br>

## 지연 로딩 - FetchType.LAZY

### 지연 로딩의 특징

- 지연 로딩을 하기 위해서는 프록시가 필요하다.
- @OneToMany, @ManyToMany 어노테이션은 Fetch 전략 중 지연 로딩(`FetchType.LAZY`)이 디폴트
- join 이 발생하지 않는 조회
- 엔티티가 없는 걸 감지했을 때 로딩을 시작한다.

### 지연 로딩의 예시

- 댓글 더보기 클릭 시 조회
- 전체 미리 조회할 필요가 없는 경우에 사용

<br><br>

## 즉시 로딩 - FetchType.EAGER

### 즉시 로딩의 특징

- join 을 사용하여 추가 쿼리 실행 없이 한번에 수행한다.
- 외래키 null 허용여부에 따라서  true 일 경우 outer join, false일 경우 inner join 을 수행한다.

### 즉시 로딩의 예시

- 쇼핑몰 장바구니에서는 유저, 상품 등 모두 한번에 보여줘야하는 경우가 많으므로 즉시 로딩 방식이 좋다.
